# Template file for 'sing-box'
pkgname=sing-box
version=1.13.0
revision=1
build_style=go
go_import_path=github.com/sagernet/sing-box
go_package=github.com/sagernet/sing-box/cmd/sing-box
go_build_tags=with_gvisor,with_quic,with_dhcp,with_wireguard,with_utls,with_acme,with_clash_api,with_tailscale
go_ldflags="-X github.com/sagernet/sing-box/constant.Version=${version}"
short_desc="Universal proxy platform"
maintainer="Nizarjh <chel773@tutamail.com>"
license="GPL-3.0-or-later"
homepage="https://sing-box.sagernet.org"
distfiles="https://github.com/SagerNet/sing-box/archive/refs/tags/v${version}.tar.gz"
checksum="6ddc71596dc937873c5aba15a4f2b395c5434265efdc1bd21f4c03d8c5b7f641"
conf_files="/etc/sing-box/config.json"

post_install() {
	vmkdir etc/$pkgname
	vcopy release/config/*.json etc/$pkgname/
	vsv $pkgname
}
